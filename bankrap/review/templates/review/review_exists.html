{% extends 'base.html' %}
{% load static %}

{% block title %}Review Exists - BankRap{% endblock %}

{% block content %}
<div class="max-w-xl mx-auto py-12">
    <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-8 text-center">

        <div class="w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-4">
            <i data-lucide="check-circle" class="w-8 h-8 text-blue-600"></i>
        </div>

        <h1 class="text-2xl font-bold text-gray-900 mb-2">Review Already Submitted</h1>
        <p class="text-gray-500 mb-6">
            You have already written a review for Loan #{{ loan.loan_id }}. Thank you for your feedback!
        </p>

        <div class="bg-gray-50 rounded-xl p-6 text-left border border-gray-200 mb-8">
            <div class="flex items-center space-x-1 mb-2">
                {% for i in "12345"|make_list %}
                    <i data-lucide="star" class="w-4 h-4 {% if forloop.counter <= review.rating %}text-yellow-400 fill-current{% else %}text-gray-300{% endif %}"></i>
                {% endfor %}
            </div>
            <p class="text-gray-700 italic">"{{ review.comment }}"</p>
            <p class="text-xs text-gray-400 mt-2">{{ review.review_date|date:"M d, Y" }}</p>
        </div>

        <div class="flex flex-col sm:flex-row gap-3 justify-center">
            <a href="{% url 'reviews' %}?tab=given" class="inline-block px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold rounded-xl transition-colors shadow-sm">
                View All Reviews
            </a>
            {% if can_edit %}
            <a href="{% url 'edit_review' review.review_id %}" class="inline-block px-6 py-3 bg-brand-red hover:bg-red-900 text-white font-bold rounded-xl transition-colors shadow-sm">
                Edit Review
            </a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}